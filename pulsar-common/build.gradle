/*
 * This file was generated by the Gradle 'init' task.
 */

description = 'Pulsar Common'

dependencies {
    implementation project(':pulsar-client-api')
    implementation "org.apache.pulsar:protobuf-shaded:${depVersions.protobufShaded}"

    implementation 'io.swagger:swagger-annotations:1.5.21'
    implementation 'com.fasterxml.jackson.core:jackson-databind:2.10.1'
    implementation "com.google.guava:guava:${depVersions.guava}"
    implementation "io.netty:netty-handler:${depVersions.netty}"
    implementation "io.netty:netty-transport-native-epoll:${depVersions.netty}"
    implementation "io.netty:netty-transport-native-unix-common:${depVersions.netty}"
    implementation "org.apache.bookkeeper:bookkeeper-common-allocator:${depVersions.bookkeeper}"
    implementation 'org.lz4:lz4-java:1.5.0'
    implementation 'com.github.luben:zstd-jni:1.3.7-3'
    implementation 'org.xerial.snappy:snappy-java:1.1.1.3'
    implementation "org.bouncycastle:bcpkix-jdk15on:${depVersions.bouncycastle}"
    implementation "org.apache.bookkeeper:circe-checksum:${depVersions.bookkeeper}"
    implementation 'io.netty:netty-tcnative-boringssl-static:2.0.26.Final'
    implementation 'org.eclipse.jetty:jetty-util:9.4.20.v20190813'
    implementation 'org.apache.commons:commons-lang3:3.4'
    implementation 'com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:2.10.1'
}

sourceSets {
  main.java.srcDirs += "$buildDir/generated/sources/java-templates/java/main"
}

task copyJavaTemplates(type: Copy) {
  from 'src/main/java-templates'
  into "$buildDir/generated/sources/java-templates/java/main"
  // expand('project.version': "$version")
  // filteringCharset = 'UTF-8'
}

compileJava.dependsOn(copyJavaTemplates)
